VT:=VOL;
V1P:=IF(REF(OPEN,1)>REF(CLOSE,1),REF(VOL,1),0);
V2P:=IF(REF(OPEN,2)>REF(CLOSE,2),REF(VOL,2),0);
V3P:=IF(REF(OPEN,3)>REF(CLOSE,3),REF(VOL,3),0);
V4P:=IF(REF(OPEN,4)>REF(CLOSE,4),REF(VOL,4),0);
V5P:=IF(REF(OPEN,5)>REF(CLOSE,5),REF(VOL,5),0);
V6P:=IF(REF(OPEN,6)>REF(CLOSE,6),REF(VOL,6),0);
V7P:=IF(REF(OPEN,7)>REF(CLOSE,7),REF(VOL,7),0);
V8P:=IF(REF(OPEN,8)>REF(CLOSE,8),REF(VOL,8),0);
V9P:=IF(REF(OPEN,9)>REF(CLOSE,9),REF(VOL,9),0);
V10P:=IF(REF(OPEN,10)>REF(CLOSE,10),REF(VOL,10),0);
VC:=VT>V1P AND VT>V2P AND VT>V3P AND VT>V4P AND VT>V5P AND 
VT>V6P AND VT>V7P AND VT>V8P AND VT>V9P AND VT>V10P;
C1:=C>REF(C,1)*1.03;
P1:=COUNT((H-L)/L<0.07,10)>5;
C2:=C>MA(C,10);
KDZD:=C1  AND VC AND P1 ; {成交量>前10日下跌日跌成交量，中阳线，前10日紧凑振幅不大}

HP10:=HHV(REF(H,1),10);
HP20:=HHV(REF(H,1),20);
HP30:=HHV(REF(H,1),30);
HP40:=HHV(REF(H,1),40);
HP50:=HHV(REF(H,1),50);
HP60:=HHV(REF(H,1),60);
BK:=C>HP10 || C>HP20 || C>HP30 || C>HP40 || C>HP50 || C>HP60; {收盘突破N日新高}
TK:=L>REF(H,1)+0.001 ; {跳空高开}
XG:KDZD OR BK OR TK;
